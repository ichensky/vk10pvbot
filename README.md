# vk10pvbot

Эта программа является ботом для игры 10 пв. Её цель свести к минимум действия ведущего игры. 

## Правила Игры

![rules](https://github.com/ichensky/vk10pvbot/blob/master/doc/rules.jpg)

## Системные требования 

1. Windows XP, Vista, 7, 8.1, 10 и выше. 
2. Microsoft .NET Framework 4.5.2 . 
   Скачать можно тут: 
   
   https://www.microsoft.com/en-us/download/details.aspx?id=42643&desc=dotnet452


## Запуск бота

1. Создать приложение в вконтакте.  
2. Отредактировать настройки для бота(файл). 
3. Запустить бот.

## Создать приложение в вконтакте

Бот исспользует vk.com api , потому чтобы он заработал на нужно создать приложение в вконтакте и скопировать от-туда app_id. 

1. Перейдите по ссылке, и создайте приложение: [тут ссылка на вк для создания приложения]
2. Заполните эти поля: [тут картинка на настройки приложения]

## Настройка бота

1. Создайте на компьютере текстовый файл с именем напр. `file.txt`, 

   Как пример можно скачать этот файл(так же его можно найти в архивет в ботом): [скачать](https://raw.githubusercontent.com/ichensky/vk10pvbot/master/file.txt)


2. Впишите туда:

```json
{
    "app_id"      :     00000000,
    "email"       :    "***@***",
    "password"    :    "******",
    "chatname"    :    "10 поводов"
}
```
 где
  
* app_id   - это app_id созданого 
* email    - логин в вк
* password - пароль от вк
* chatname - название чата в котором будет работать бот(можно не полное, а первых несколько букв)

3. Откройте, в блокноте файл `start.bat` (он дожен быть в архиве с ботом) и впишите туда: 

```sh
vk10pvbot.exe "C:\path_to_file\file.txt"
```
где 

* "C:\path_to_file\file.txt" - это полный путь к файлу с настройками, который создали ранее.

## Запуск бота

1. Запустите файл start.bat [тут картинка запущенного консольного окна]

Если появятся какие-то ошибки, они будут выведенны в консоль. 

## Комманды бота

Есть 4ре типа людей которые могут отдавать комманды боту: 

Тип | Описание
------------ | -------------
создатель| Тот кто запустил бота.
пользователь| Все пользователи в вк.
жених| Жених.
игрок| Невесты.

В зависимости от типа, пользователь может пользовать разным колличеством комманд. 

#### создатель


```
Комманды писать в: 
    - беседу с невестами
    - самому себе в лс (https://vk.com/im?sel=57310845)
```
**Может писать так же все команды `жениха`(или сам себе в лс, вместо него), что бы подправить вопрос жениха **

```
/new                         Создать новую игру.                              
/stop                        Закончить текущую игру.

/man [вк ссылка]             Добавить в игру жениха со страницей. 
                             Пример: /man https://vk.com/id57310845
                             
/players                     Вводить как в игру добавлены жених и невесты. 
                             Говорит, что все *игроки* добавлены, можно начинать играть

/sent                        После ввода команды, ответы невест полетят в лс жениха. 

/round                       Вводить после того как жених задаст вопрос, а невесты на него ответят. 
                             Говори, что раунд сыграть. 
```

#### пользователь

```
Комманды писать в: 
    - беседу с невестами
```
    
```
/add [ник пользователя]      Добавит пользователя, который ввел комманду в игру как невесту.
                             После ввода этой комманды *пользователь* автоматически становится *игроком*, 
                             и ему становятся доступны комманды *игрока*.
                             Пример: /add Чима      
```

#### жених

```
Комманды писать в: 
    - лс создателю
```

```
/q [вопрос жениха]            Написать вопрос для невест.                               
                              Пример: /q Как твои дела?
                              
/kill [номер_ответа]          После комманды номера ответов которые не понравились жениху.
                              Пример: /kill 1 3 4
                              
/rose [номер_ответа]          После комманды номера ответов которые понравились жениху.
                              Пример: /rose 2 5

```

#### игрок

```
Комманды писать в: 
    - беседу с невестами
    - лс создателю
```

```
/add [ник пользователя]      Изменит имя невесты. Напр. если изначально *игрок* ввел свое имя с ошибкой.
                             Комманду можно воодить несколько раз подряд, напр. что бы изменить имя. 
                             Пример: /add Чима9999    
                             
/a [ответ невесты]           Написать ответ жениху.
                             Пример: /a Мои дела хорошо:) 
```

#### комманды доступные для всех пользователей 

```
Комманды писать в:
    - беседу с невестами
    - лс создателю
```

```
/help                         Помощь о том как пользоваться ботом.
/rules                        Правила игры.
/status                       Выведет текущий статус игры: 
                                  - добавлени ли жених
                                  - добавлены ли невесты
                                  - кому подарили розу 
                                  - кого убили
                                  - кто победитель
```
 
## Пример использования бота

Создатель запустил бота и пишет в беседу(или себе в лс), о том что хочет сыграть в 10пв игру: 
```
/new 
```
Игра инициализированна. Теперь, создатель пишет себе в лс комманду чтобы добавить в игру жениха: 
```
/man https://vk.com/id57310845
```    
Жених добавлен, теперь пользователи, которые хотят учавствовать в игре в беседу пишут:
```
   /add Чима
   /add Нян
   /add Персик
```   
В игру добавлены 3ри невесты: Чима, Нян, Персик. Создатель говорит что можно начинать играть: 
```
/players
```
Теперь жених пишет в лс создателю свой первый вопрос:
```
/q Как ваши дела?
```
После этой комманды, в лс создателю невесты пишут свои ответы: 
```
/q Лучше, чем всегда =) 
/q Хорошо
/q Не плохо
```
После того как все ответели(или не все), создатель пишет в беседу или себе в лс: 
```
/sent
```
Комманду, которая отправит ответы невест жениху. Теперь жених может выбрать чей ответ ему понравился, а чей нет. 
```
/rose 0 2
/kill 1
```
Ответы Чима и Персика жениху понравились и он дарит им розочки, а ответ Няна нет. Теперь создать пишет в беседу(или себе в лс):
```
/round
```
И первый раунд сыгран, Нян вылетает из игры. Жених пишет в лс создателю свой второй вопрос:
```
/q Что сегодня ел на ужин?
```
После этой комманды, в лс создателю невесты пишут свои ответы: 
```
/q Блины со сметаной. мур~мур
/q Котлеты 
```
После того как все ответели(или не все), создатель пишет в беседу или себе в лс: 
```
/sent
```
Комманду, которая отправит ответы невест жениху. Теперь жених может выбрать чей ответ ему понравился, а чей нет. 
```
/rose 0 
/kill 2
```
Ответы Чима жениху понравились и он дарит ей розочку, а ответ Персика нет. Теперь создать пишет в беседу(или себе в лс):
```
/round
```
И первый раунд сыгран, Персик вылетает из игры, кроме Чима никого не осталось. Потому Чима победил. Создатель пишет в бесседу(или себе лс) комманду:
```
/stop
```
Игра успешно сыграна. 

--

Между вводом комманд, как в беседу, так и в лс любой участник игры может писать комманду: 
```
/status
```
Что бы узнать кто жених, кто выиграл, кто невесты, кто уже ответил на вопрос жениха, задали ли уже жених свой вопрос, кому подарили розочку, а кто вылетел в текущем раунде.







